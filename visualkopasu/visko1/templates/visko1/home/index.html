<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
{% comment %}
Copyright 2012, Le Tuan Anh (tuananh.ke@gmail.com)
This file is part of VisualKopasu.
VisualKopasu is free software: you can redistribute it and/or modify 
it under the terms of the GNU General Public License as published by 
the Free Software Foundation, either version 3 of the License, or 
(at your option) any later version.
VisualKopasu is distributed in the hope that it will be useful, but 
WITHOUT ANY WARRANTY; without even the implied warranty of 
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 
See the GNU General Public License for more details.
You should have received a copy of the GNU General Public License 
along with VisualKopasu. If not, see http://www.gnu.org/licenses/.
{% endcomment %}

{% load staticfiles %}

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>{{title}}</title>
        <link rel="stylesheet" href="{% static 'css/redmond/jquery-ui-1.9.0.custom.min.css' %}" />
        <link rel="stylesheet" href="{% static 'css/visualkopasu.css' %}" />
        <script type="text/javascript" src="{% static 'js/jquery-1.8.2.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/jquery-ui-1.9.0.custom.min.js' %}"></script>
        
        <script type="text/javascript">
            $(document).ready(function() {
                initialise();
            });
            
            function initialise(){
                $("#btnDelphinviz").button().click(function(){
                    window.location = "{% url 'visko1:dev_viz' %}";           
                });
                $("#btnDevTest").button().click(function(){
                  window.location = "{% url 'visko1:dev_test' %}";           
                });

              $("#btnAdvanceSearch").button().click(function(){
                window.location = "{% url 'visko1:search' %}";         
              });
              $("#btnSearch").button();
              $("#btnParse").button();
              $("#form_search").submit(function(){
                if($("#user_query").val().length == 0){
                  alert("Please enter your query");
                  return false;                       
                }
              });
              $("#btnShowBasket").button({ text: false
                                         , icons: { primary: "ui-icon-suitcase"  }
              }).click(function(){
                window.location = "{% url 'visko1:basket' %}";    
            });

            $('.corpus_name').tooltip();
            $('.collection_name').tooltip({position: {
              my: "right bottom+50"
          },
          tooltipClass: "entry-tooltip-positioner"});
            }
        </script>       
    </head>

    <body>
        <div id="banner" class="ui-widget-header ui-corner-all">
        {{header}}
        </div>
        <form id="form_search" action="{% url 'visko1:search' %}" method="POST">
        {% csrf_token %}
        <div id="toolbar" class="ui-corner-all">
                <button id="btnAdvanceSearch" name="btnAdvanceSearch" type="button">Advance Search</button>
                <span id="effect" class="toolbar_label">Search</span>
                <input id="user_query" name="user_query" />
                <button type="submit" id="btnSearch" name="btnSearch">Quick Search</button>
                {% comment %}<button type="button" id="btnShowBasket" name="btnAdvanceSearch">Show clipped DMRS</button>{% endcomment %}
            </div>
        </form>
        
        
        
        {% for collection in biblioteche %}
        <h1><span title='DB file: {{collection.sqldao.db_path}}' class='collection_name'>Collection: {{ collection.name }}</span></h1>
        
        <ol class="sentence_list">
        {% for corpus in collection.corpora %}
            <li><label class='corpus_name' title='Path: {{corpus.path}}'>Corpus: {{corpus.name}}</label>
                <ul>
                {% for document in corpus.documents %}
                  <li><a href="{% url 'visko1:doc_display' collection.name corpus.name document.ID %}">{{document.name}}</a></li>
                {% endfor %}
                </ul>
            </li>
        {% endfor %}
        </ol>
        {% endfor %}
        
        <h1>Integrated Semantic Framework</h1>
        <form id="form_isf" action="{% url 'visko1:isf_parse' %}" method="POST">
        {% csrf_token %}
            <div id="toolbar" class="ui-corner-all">
                <span id="effect" class="toolbar_label">Sentence</span>
                <input id="sentence" name="sentence" value='Some dogs bark.' />
                <button type="submit" id="btnParse" name="btnParse">Parse</button>
                <button type="button" id="btnDelphinviz" name="btnDelphinviz">Delphin-viz</button>
                <button type="button" id="btnDevTest" name="btnDevTest">Dev</button>
            </div>
        </form>
        
                
    </body>
</html>
